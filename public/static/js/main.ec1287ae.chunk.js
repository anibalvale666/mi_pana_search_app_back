(this["webpackJsonpmipana-consulta-front"]=this["webpackJsonpmipana-consulta-front"]||[]).push([[0],{111:function(e,t,c){},112:function(e,t,c){},113:function(e,t,c){},114:function(e,t,c){},115:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c(19),r=c.n(n),o=c(6),s=c(26),i=c(51),l=c(12),u=c(3),j="[data] Add new data",d="[data] Data Search Result",b="[data] Data Update",f="[data] Initial State",O="[filter] Change Filter Search Date",p="[ui] Open Filter Modal",m="[ui] Close Filter Modal",h="[ui] Open Account Modal",x="[ui] Close Account Modal",v="[ui] Open  Record Account Modal",g="[ui] Close Record Account Modal",y="[filter] Set Active",N="[filter] Clear active Filter",k="[filter] Add new",C="[filter] Filter Updated",w="[filter] Filter Deleted",A="[filter] Filter List Loaded",S="[filter] Filter List Not Result",D="[account] Change Account Brand",L="[account] Set Active",E="[account] Clear active Account",_="[account] Add new account",T="[account] Account Updated",M="[account] Account Deleted",R="[account] Account List Loaded",F="[account] Account List Not Result",I="[company] Company List Loaded",P="[company] Company List Not Result",q="[company] Set Active",G="[company] Clear active Company",B="[auth] FinishChecking login State",z="[auth] Login",U="[auth] Logout",K={accountList:[],accountActive:null,accountSearchBrand:"CASTROL"},J={checking:!0,nick:null},X={companies:[],companyActive:{name:"INCAMOTORS",brand:"CASTROL",currency:"DOLAR"}},V={searchData:{placa:"",marca:"",aceite_motor:{aceite:"",fecha:"",km:""},aceite_caja:{aceite:"",fecha:"",km:""},filtros:{aceite:"",aire:"",combustible:"",cabina:""},liquido_radiador:{liquido:"",fecha:"",km:""},obs:"",id:""}},H={filterSearchDate:"",filterList:[],filterActive:null},Q={OpenFilterModal:!1,OpenAccountModal:!1,OpenAccountRecordModal:!1},W=Object(s.b)({data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(u.a)({},e);case d:case b:return Object(u.a)(Object(u.a)({},e),{},{searchData:t.payload});case f:return Object(u.a)(Object(u.a)({},e),{},{searchData:V.searchData});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:return Object(u.a)(Object(u.a)(Object(u.a)({},e),t.payload),{},{checking:!1});case B:return Object(u.a)(Object(u.a)({},e),{},{checking:!1});case U:return{checking:!1};default:return e}},filter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return Object(u.a)(Object(u.a)({},e),{},{filterList:Object(l.a)(t.payload)});case k:return Object(u.a)(Object(u.a)({},e),{},{filterList:[].concat(Object(l.a)(e.filterList),[t.payload])});case C:return Object(u.a)(Object(u.a)({},e),{},{filterList:e.filterList.map((function(e){return e.id===t.payload.id?t.payload:e}))});case y:return Object(u.a)(Object(u.a)({},e),{},{filterActive:t.payload});case N:return Object(u.a)(Object(u.a)({},e),{},{filterActive:null});case w:return Object(u.a)(Object(u.a)({},e),{},{filterList:e.filterList.filter((function(e){return e.id!==t.payload}))});case S:return Object(u.a)(Object(u.a)({},e),{},{filterList:[]});case O:return Object(u.a)(Object(u.a)({},e),{},{filterSearchDate:t.payload});default:return e}},ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(u.a)(Object(u.a)({},e),{},{OpenFilterModal:!0});case m:return Object(u.a)(Object(u.a)({},e),{},{OpenFilterModal:!1});case h:return Object(u.a)(Object(u.a)({},e),{},{OpenAccountModal:!0});case x:return Object(u.a)(Object(u.a)({},e),{},{OpenAccountModal:!1});case v:return Object(u.a)(Object(u.a)({},e),{},{OpenAccountRecordModal:!0});case g:return Object(u.a)(Object(u.a)({},e),{},{OpenAccountRecordModal:!1});default:return e}},account:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return Object(u.a)(Object(u.a)({},e),{},{accountList:Object(l.a)(t.payload)});case _:return Object(u.a)(Object(u.a)({},e),{},{accountList:[].concat(Object(l.a)(e.accountList),[t.payload])});case T:return Object(u.a)(Object(u.a)({},e),{},{accountList:e.accountList.map((function(e){return e.id===t.payload.id?t.payload:e}))});case L:return Object(u.a)(Object(u.a)({},e),{},{accountActive:t.payload});case E:return Object(u.a)(Object(u.a)({},e),{},{accountActive:null});case M:return Object(u.a)(Object(u.a)({},e),{},{accountList:e.accountList.filter((function(e){return e.id!==t.payload}))});case F:return Object(u.a)(Object(u.a)({},e),{},{accountList:[]});case D:return Object(u.a)(Object(u.a)({},e),{},{accountSearchBrand:t.payload});default:return e}},company:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return Object(u.a)(Object(u.a)({},e),{},{companies:Object(l.a)(t.payload)});case P:return Object(u.a)(Object(u.a)({},e),{},{companies:[]});case q:return Object(u.a)(Object(u.a)({},e),{},{companyActive:t.payload});case G:return Object(u.a)(Object(u.a)({},e),{},{companyActive:null});default:return e}}}),Y="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.c,Z=Object(s.d)(W,Y(Object(s.a)(i.a))),$=c(21),ee=c(10),te=c(7),ce=c.n(te),ae=c(11),ne="https://mi-pana-app.herokuapp.com/api",re=function(e,t){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",a="".concat(ne,"/").concat(e);return"GET"===c?fetch(a):fetch(a,{method:c,headers:{"Content-type":"application/json"},body:JSON.stringify(t)})},oe=function(e,t){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",a="".concat(ne,"/").concat(e),n=localStorage.getItem("token")||"";return"GET"===c?fetch(a,{method:c,headers:{"x-token":n}}):fetch(a,{method:c,headers:{"Content-type":"application/json","x-token":n},body:JSON.stringify(t)})},se=c(9),ie=c.n(se),le=function(){return{type:B}},ue=function(e){return{type:z,payload:e}},je=function(){return{type:U}},de=c(8),be=function(e){return function(){var t=Object(ae.a)(ce.a.mark((function t(c){var a,n;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,re("data",{placa:e},"POST");case 3:return a=t.sent,t.next=6,a.json();case 6:(n=t.sent).ok?c(fe(n.data)):(ie.a.fire("Error",n.msg,"error"),c(Oe())),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},fe=function(e){return{type:d,payload:e}},Oe=function(){return{type:f}},pe=function(e){return{type:j,payload:e}},me=function(e){return{type:b,payload:e}},he=c(0),xe=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.auth})).nick;return Object(he.jsxs)("nav",{className:"navbar navbar-expand-sm navbar-dark bg-dark",children:[Object(he.jsx)($.b,{className:"navbar-brand",to:"/",children:"MiPana"}),Object(he.jsx)("div",{className:"navbar-collapse",children:!!t&&Object(he.jsxs)("div",{className:"navbar-nav",children:[Object(he.jsx)($.c,{activeClassName:"active",className:"nav-item nav-link",exact:!0,to:"/filterwishlist",children:"Lista deseo filtros"}),Object(he.jsx)($.c,{activeClassName:"active",className:"nav-item nav-link",exact:!0,to:"/account",children:"Cuentas y Saldos"})]})}),Object(he.jsx)("div",{className:"navbar-collapse collapse w-100 order-3 dual-collapse2",children:Object(he.jsx)("ul",{className:"navbar-nav ml-auto",children:t?Object(he.jsx)("button",{className:"btn btn-outline-danger",onClick:function(){e((function(e){localStorage.clear(),e(je())})),e(Oe())},children:"Logout"}):Object(he.jsx)($.c,{activeClassName:"active",className:"nav-item nav-link",exact:!0,to:"/login",children:"Login"})})})]})},ve=c(33),ge=(c(73),function(e){return{type:_,payload:e}}),ye=function(e){return function(){var t=Object(ae.a)(ce.a.mark((function t(c){var a,n;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,oe("account/".concat(e.id),e,"PUT");case 3:return a=t.sent,t.next=6,a.json();case 6:(n=t.sent).ok?(c(Ne(n.account)),ie.a.fire("Actualizado","Actualizado con \xe9xito","success")):ie.a.fire("Error",n.msg,"error"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},Ne=function(e){return{type:T,payload:e}},ke=function(e){return function(){var t=Object(ae.a)(ce.a.mark((function t(c){var a,n;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,oe("account",{brand:e},"POST");case 3:return a=t.sent,t.next=6,a.json();case 6:(n=t.sent).ok?c(Ce(n.accounts)):c(we()),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},Ce=function(e){return{type:R,payload:e}},we=function(){return{type:F}},Ae=function(e){return{type:L,payload:e}},Se=function(){return{type:E}},De=function(e){return{type:M,payload:e}},Le=function(){return{type:p}},Ee=function(){return{type:h}},_e=function(){return{type:g}},Te=c(24),Me=c.n(Te),Re=c(18),Fe=c.n(Re),Ie=c(25),Pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(a.useState)(e),c=Object(de.a)(t,2),n=c[0],r=c[1],o=function(){r(e)},s=function(e){var t=e.state;r(t)},i=function(e){var t=e.target,c=t.name.split("."),a=Object(de.a)(c,2),o=a[0],s=a[1];r(s?Object(u.a)(Object(u.a)({},n),{},Object(Ie.a)({},o,Object(u.a)(Object(u.a)({},n[o]),{},Object(Ie.a)({},s,t.value)))):Object(u.a)(Object(u.a)({},n),{},Object(Ie.a)({},o,t.value)))};return[n,i,o,s]},qe={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}};Me.a.setAppElement("#root");var Ge=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.ui})).OpenAccountModal,c=Object(o.c)((function(e){return e.company})).companyActive,n=Object(o.c)((function(e){return e.account})),r=n.accountActive,s=n.accountSearchBrand,i={initial_date:new Date,invoice_number:"",brand:s,total_amount:"",currency:c.currency,record:[]},u=Object(a.useState)(r?r.initial_date:new Date),j=Object(de.a)(u,2),d=j[0],b=j[1],f=Pe(r||i),O=Object(de.a)(f,3),p=O[0],m=O[1],h=O[2],v=p.initial_date,g=p.invoice_number,y=p.brand,N=p.total_amount,k=p.record;Object(a.useEffect)((function(){m({target:{name:"brand",value:s}}),m({target:{name:"currency",value:c.currency}})}),[s]),Object(a.useEffect)((function(){h(r||i)}),[r]);var C=function(){e({type:x}),h({initial_date:new Date,invoice_number:"",brand:s,total_amount:"",record:[{date:new Date,amount:""}]}),r&&e(Se())};return Object(he.jsxs)(Me.a,{isOpen:t,onRequestClose:C,style:qe,closeTimeoutMS:200,children:[Object(he.jsxs)("h1",{children:[" ",r?"Editar Cuenta":"Nuevo Registro"," "]}),Object(he.jsx)("hr",{}),Object(he.jsxs)("form",{className:"container",onSubmit:function(t){if(t.preventDefault(),!v||!g||!y||!N)return ie.a.fire("Error","Debe llenar todos los campos","error");var c;r?(e(ye(p)),e(Se())):e((c=p,function(){var e=Object(ae.a)(ce.a.mark((function e(t){var a,n;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oe("account/new",c,"POST");case 3:return a=e.sent,e.next=6,a.json();case 6:(n=e.sent).ok&&(t(ge(n.account)),ie.a.fire("Guardado","Guardado con \xe9xito","success")),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())),C()},children:[Object(he.jsx)("div",{className:"form-group",children:Object(he.jsx)(Fe.a,{onChange:function(e){b(e),m({target:{name:"initial_date",value:e}})},value:d,className:"form-control"})}),Object(he.jsxs)("div",{className:"form-group",children:[Object(he.jsx)("label",{children:"N\xfamero de Factura"}),Object(he.jsx)("input",{type:"text",className:"form-control",placeholder:"Ingrese Numero de factura...",name:"invoice_number",autoComplete:"off",value:g,onChange:m})]}),Object(he.jsxs)("div",{className:"form-group",children:[Object(he.jsx)("label",{children:"Monto"}),Object(he.jsx)("input",{type:"number",className:"form-control",placeholder:"Ingrese Monto total...",name:"total_amount",autoComplete:"off",value:N,onChange:m})]}),Object(he.jsxs)("div",{className:"form-group",children:[Object(he.jsx)("label",{children:"Pagos"}),k.map((function(e,t){return Object(he.jsxs)("div",{className:"row g-3 mb-1",children:[Object(he.jsx)("div",{className:"col-auto",children:Object(he.jsx)(Fe.a,{onChange:function(e){return function(e,t){var c=Object(l.a)(k);c[t].date=e,m({target:{name:"record",value:c}})}(e,t)},value:e.date,className:"form-control",disabled:!0})}),Object(he.jsx)("div",{className:"col-auto",children:Object(he.jsx)("input",{type:"number",autoComplete:"off",name:"amount",placeholder:"Agregar Monto...",className:"form-control",value:e.amount,onChange:function(e){return function(e,t){var c=e.target,a=c.name,n=c.value,r=Object(l.a)(k);r[t][a]=n,m({target:{name:"record",value:r}})}(e,t)}})}),Object(he.jsx)("div",{className:"col-auto px-0",children:1!==k.length&&Object(he.jsx)("button",{className:"btn btn-danger form-control",onClick:function(e){return function(e,t){e.preventDefault();var c=Object(l.a)(k);c.splice(t,1),m({target:{name:"record",value:c}})}(e,t)},children:Object(he.jsx)("i",{className:"fas fa-minus"})})})]},t)}))]}),Object(he.jsxs)("button",{type:"submit",className:"btn btn-outline-primary btn-block",children:[Object(he.jsx)("i",{className:"far fa-save"}),Object(he.jsx)("span",{children:"Guardar"})]})]})]})},Be={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}},ze={date:new Date,amount:""},Ue=function(){var e=Object(o.c)((function(e){return e.ui})).OpenAccountRecordModal,t=Object(o.c)((function(e){return e.account})).accountActive,c=Pe(ze),a=Object(de.a)(c,3),n=a[0],r=a[1],s=a[2],i=n.date,j=n.amount,d=Object(o.b)();return Object(he.jsxs)(Me.a,{isOpen:e,onRequestClose:function(){d(_e())},style:Be,closeTimeoutMS:200,children:[Object(he.jsx)("h1",{children:" Nuevo Registro "}),Object(he.jsx)("hr",{}),Object(he.jsxs)("form",{className:"container",onSubmit:function(e){e.preventDefault();var c=t.total_amount-j-t.record.map((function(e){return e.amount})).reduce((function(e,t){return e+t}),0),a=Object(u.a)(Object(u.a)(Object(u.a)({},t),c<=0&&{paid:!0}),{},{record:[].concat(Object(l.a)(t.record),[n])});d(ye(a)),d(_e()),d(Se()),s(ze)},children:[Object(he.jsx)("div",{className:"form-group",children:Object(he.jsx)(Fe.a,{onChange:function(e){r({target:{name:"date",value:e}})},value:i,className:"form-control"})}),Object(he.jsxs)("div",{className:"form-group",children:[Object(he.jsx)("label",{children:"Monto"}),Object(he.jsx)("input",{type:"number",className:"form-control",placeholder:"Ingrese el monto",name:"amount",autoComplete:"off",value:j,onChange:r})]}),Object(he.jsxs)("button",{type:"submit",className:"btn btn-outline-primary btn-block",children:[Object(he.jsx)("i",{className:"far fa-save"}),Object(he.jsx)("span",{children:"Guardar"})]})]})]})},Ke=void 0,Je=function(e){var t=e.account,c=Object(o.b)(),a=t.id,n=t.invoice_number,r=t.total_amount,s=t.initial_date,i=t.record,l=t.paid,u=new Date(s),j=r-i.map((function(e){return e.amount})).reduce((function(e,t){return e+t}),0);return Object(he.jsxs)("tr",{children:[Object(he.jsxs)("td",{children:[" ",n," "]}),Object(he.jsxs)("td",{children:[" ",u.toLocaleDateString("es-ES")," "]}),Object(he.jsxs)("td",{children:[" ",r," "]}),Object(he.jsx)("td",{children:Object(he.jsx)("table",{children:Object(he.jsx)("tbody",{children:i.map((function(e){var t=new Date(e.date);return e.amount,Object(he.jsxs)("tr",{children:[Object(he.jsxs)("td",{children:[" ",t.toLocaleDateString("es-ES")," "]}),Object(he.jsxs)("td",{children:[" ",e.amount," "]})]},e._id)}))})})}),Object(he.jsx)("td",{children:l?"CANCELADO":j}),Object(he.jsxs)("td",{children:[Object(he.jsx)("button",{className:"btn btn-warning mr-4",onClick:function(e){c(Ee()),c(Ae(e))}.bind(Ke,t),children:Object(he.jsx)("i",{className:"fas fa-pencil-alt"})}),Object(he.jsx)("button",{className:"btn btn-danger",onClick:function(e){c(function(e){return function(){var t=Object(ae.a)(ce.a.mark((function t(c){var a,n;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,oe("account/delete/".concat(e),{},"DELETE");case 3:return a=t.sent,t.next=6,a.json();case 6:(n=t.sent).ok?c(De(e)):ie.a.fire("Error",n.msg,"error"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(e))}.bind(Ke,t.id),children:Object(he.jsx)("i",{className:"far fa-trash-alt fa-lg"})}),Object(he.jsx)("button",{className:"btn btn-success ml-4",onClick:function(e){c({type:v}),c(Ae(e))}.bind(Ke,t),children:Object(he.jsx)("i",{className:"fas fa-plus fa-lg"})})]})]},a)},Xe=function(e){return{type:I,payload:e}},Ve=function(){return{type:P}},He=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.account})),c=t.accountSearchBrand,n=t.accountList,r=Object(o.c)((function(e){return e.company})),s=r.companies,i=r.companyActive,l=Object(a.useState)(!1),u=Object(de.a)(l,2),j=u[0],d=u[1],b=Object(a.useState)(n.filter((function(e){return e.paid===j}))),f=Object(de.a)(b,2),O=f[0],p=f[1];Object(a.useEffect)((function(){e(ke(c))}),[c]),Object(a.useEffect)((function(){p(n.filter((function(e){return e.paid===j})))}),[n]),Object(a.useEffect)((function(){e(function(){var e=Object(ae.a)(ce.a.mark((function e(t){var c,a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oe("company",{},"POST");case 3:return c=e.sent,e.next=6,c.json();case 6:(a=e.sent).ok?t(Xe(a.companies)):t(Ve()),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())}),[]);var m=s.map((function(e){return{value:e.brand,label:e.brand}}));return Object(he.jsxs)("div",{children:[Object(he.jsx)(xe,{}),Object(he.jsxs)("h4",{children:["MONEDA: ",i.currency]}),Object(he.jsxs)("div",{className:"account-container",children:[Object(he.jsxs)("div",{className:"account-search-box",children:[Object(he.jsx)(ve.a,{options:m,value:{value:c,label:c},onChange:function(t){var c,a;e(ke(t.value)),e((c=t.value,{type:D,payload:c})),e((a=s.find((function(e){return e.brand===t.value})),{type:q,payload:a}))}}),Object(he.jsx)("button",{className:"btn btn-primary btn-block mt-4",onClick:function(){e(Ee())},children:"Nuevo Registro"}),Object(he.jsxs)("label",{children:["Mostrar todas las deudas",Object(he.jsx)("input",{name:"paid",type:"checkbox",checked:j,onChange:function(e){d(e.target.checked),p(e.target.checked?n:n.filter((function(e){return!1===e.paid})))}})]})]}),Object(he.jsx)("div",{className:"account-response-box",children:Object(he.jsxs)("table",{className:"table table-bordered",children:[Object(he.jsx)("thead",{children:Object(he.jsxs)("tr",{children:[Object(he.jsx)("th",{scope:"col",children:"Nro Factura"}),Object(he.jsx)("th",{scope:"col",children:"Fecha Registro"}),Object(he.jsx)("th",{scope:"col",children:"Monto total"}),Object(he.jsx)("th",{scope:"col",children:"Registro"}),Object(he.jsx)("th",{children:"Saldo"})]})}),Object(he.jsx)("tbody",{children:O.map((function(e){return Object(he.jsx)(Je,{account:e},e.id)}))})]})}),Object(he.jsx)(Ge,{}),Object(he.jsx)(Ue,{})]})]})},Qe=(c(111),function(){var e=Object(o.b)(),t=Pe({nick:"",password:""}),c=Object(de.a)(t,2),a=c[0],n=c[1],r=a.nick,s=a.password;return Object(he.jsx)("div",{className:"container login-container",children:Object(he.jsx)("div",{className:"row",children:Object(he.jsxs)("div",{className:"col-md-6 login-form-1",children:[Object(he.jsx)("h3",{children:"Ingreso"}),Object(he.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e(function(e,t){return function(){var c=Object(ae.a)(ce.a.mark((function c(a){var n,r;return ce.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,re("auth",{nick:e,password:t},"POST");case 2:return n=c.sent,c.next=5,n.json();case 5:(r=c.sent).ok?(localStorage.setItem("token",r.token),localStorage.setItem("token-init-date",(new Date).getTime()),a(ue({nick:r.nick}))):ie.a.fire("Error",r.msg,"error");case 7:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()}(r,s))},children:[Object(he.jsx)("div",{className:"form-group",children:Object(he.jsx)("input",{type:"text",className:"form-control",placeholder:"nick",name:"nick",autoComplete:"off",value:r,onChange:n})}),Object(he.jsx)("div",{className:"form-group",children:Object(he.jsx)("input",{type:"password",className:"form-control",placeholder:"Contrase\xf1a",name:"password",autoComplete:"off",value:s,onChange:n})}),Object(he.jsx)("div",{className:"form-group",children:Object(he.jsx)("input",{type:"submit",className:"btnSubmit",value:"Login"})})]})]})})})}),We=function(){var e=Object(o.c)((function(e){return e.data})).searchData,t=e.marca,c=e.aceite_motor,a=e.aceite_caja,n=e.filtros,r=e.liquido_radiador,s=e.obs,i=new Date(c.fecha),l=new Date(a.fecha),u=new Date(r.fecha);return Object(he.jsx)("div",{children:Object(he.jsxs)("div",{className:"search-response-box box",children:[Object(he.jsxs)("h3",{children:[" ",t," "]}),Object(he.jsx)("h4",{children:" Aceite:"}),Object(he.jsxs)("table",{className:"table",children:[Object(he.jsx)("thead",{children:Object(he.jsxs)("tr",{children:[Object(he.jsx)("th",{scope:"col",children:"Aceite"}),Object(he.jsx)("th",{scope:"col",children:"Fecha de cambio"}),Object(he.jsx)("th",{scope:"col",children:"Kilometraje"})]})}),Object(he.jsxs)("tbody",{children:[Object(he.jsxs)("tr",{children:[Object(he.jsx)("td",{children:c.aceite}),Object(he.jsx)("td",{children:c.fecha?i.toLocaleDateString("es-ES"):""}),Object(he.jsx)("td",{children:c.km})]}),Object(he.jsxs)("tr",{children:[Object(he.jsx)("td",{children:a.aceite}),Object(he.jsx)("td",{children:a.fecha?l.toLocaleDateString("es-ES"):""}),Object(he.jsx)("td",{children:a.km})]})]})]}),Object(he.jsx)("h4",{children:"Filtros:"}),Object(he.jsxs)("table",{className:"table",children:[Object(he.jsx)("thead",{children:Object(he.jsxs)("tr",{children:[Object(he.jsx)("th",{scope:"col",children:"Aceite"}),Object(he.jsx)("th",{scope:"col",children:"Aire"}),Object(he.jsx)("th",{scope:"col",children:"Combustible"}),Object(he.jsx)("th",{scope:"col",children:"Cabina"})]})}),Object(he.jsx)("tbody",{children:Object(he.jsxs)("tr",{children:[Object(he.jsx)("td",{children:n.aceite}),Object(he.jsx)("td",{children:n.aire}),Object(he.jsx)("td",{children:n.combustible}),Object(he.jsx)("td",{children:n.cabina})]})})]}),Object(he.jsx)("h4",{children:"Refrigerante:"}),Object(he.jsxs)("table",{className:"table",children:[Object(he.jsx)("thead",{children:Object(he.jsxs)("tr",{children:[Object(he.jsx)("th",{scope:"col",children:"Refrigerante"}),Object(he.jsx)("th",{scope:"col",children:"Fecha"}),Object(he.jsx)("th",{scope:"col",children:"Kilometraje"})]})}),Object(he.jsx)("tbody",{children:Object(he.jsxs)("tr",{children:[Object(he.jsx)("td",{children:r.liquido}),Object(he.jsx)("td",{children:r.fecha?u.toLocaleDateString("es-ES"):""}),Object(he.jsx)("td",{children:r.km})]})})]}),Object(he.jsx)("h4",{children:"Observaciones:"}),Object(he.jsx)("p",{children:s})]})})},Ye=(c(112),function(){var e=Object(o.c)((function(e){return e.data.searchData.placa})),t=Object(o.b)(),c=Pe({placa:""}),a=Object(de.a)(c,2),n=a[0],r=a[1],s=n.placa;return Object(he.jsxs)("div",{children:[Object(he.jsx)(xe,{}),Object(he.jsxs)("div",{className:"search-container",children:[Object(he.jsx)("div",{className:"search-box",children:Object(he.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""===s)return ie.a.fire("Error","Ingrese la Placa","error");t(be(s))},children:[Object(he.jsx)("h1",{children:"Ingrese la Placa:"}),Object(he.jsx)("input",{type:"text",placeholder:"Ingrese la placa...",name:"placa",autoComplete:"off",value:s,maxLength:"6",onChange:r}),Object(he.jsxs)("button",{type:"submit",className:"btn btn-outline-primary ml-2",children:[Object(he.jsx)("i",{className:"fas fa-search"}),Object(he.jsx)("span",{children:" Buscar"})]})]})}),!!e&&Object(he.jsx)(We,{})]})]})}),Ze=(c(113),function(e){return{type:k,payload:e}}),$e=function(e){return{type:C,payload:e}},et=function(e){return function(){var t=Object(ae.a)(ce.a.mark((function t(c){var a,n;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,oe("filterswishlist",{date:e},"POST");case 3:return a=t.sent,t.next=6,a.json();case 6:(n=t.sent).ok?c(tt(n.filters)):c(ct()),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},tt=function(e){return{type:A,payload:e}},ct=function(){return{type:S}},at=function(){return{type:N}},nt=function(e){return{type:w,payload:e}},rt=function(e){return{type:O,payload:e}},ot={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}};Me.a.setAppElement("#root");var st=[{value:"aceite",label:"aceite"},{value:"aire",label:"aire"},{value:"combustible",label:"combustible"},{value:"cabina",label:"cabina"}],it=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.ui})).OpenFilterModal,c=Object(o.c)((function(e){return e.filter})),n=c.filterActive,r=c.filterSearchDate,s={date:r,filterType:"",brand:"",code:"",application:[{value:""}]},i=Pe(n||s),u=Object(de.a)(i,3),j=u[0],d=u[1],b=u[2],f=j.date,O=j.filterType,p=j.brand,h=j.code,x=j.application;Object(a.useEffect)((function(){d({target:{name:"date",value:r}})}),[r]),Object(a.useEffect)((function(){b(n)}),[n]);var v=function(){e({type:m}),setTimeout((function(){n&&e(at()),b(s)}),300)},g=function(){d({target:{name:"application",value:[].concat(Object(l.a)(x),[{value:""}])}})};return Object(he.jsxs)(Me.a,{isOpen:t,onRequestClose:v,style:ot,closeTimeoutMS:200,children:[Object(he.jsxs)("h1",{children:[" ",n?"Editar filtro":"Nuevo filtro"," "]}),Object(he.jsx)("hr",{}),Object(he.jsxs)("form",{className:"container",onSubmit:function(t){if(t.preventDefault(),!f||!O||!p||!h)return ie.a.fire("Error","Debe llenar todos los campos","error");var c;n?(e((c=j,function(){var e=Object(ae.a)(ce.a.mark((function e(t){var a,n;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oe("filterswishlist/".concat(c.id),c,"PUT");case 3:return a=e.sent,e.next=6,a.json();case 6:(n=e.sent).ok?(t($e(n.filter)),ie.a.fire("Actualizado","Actualizado con \xe9xito","success")):ie.a.fire("Error",n.msg,"error"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())),e(at())):e(function(e){return function(){var t=Object(ae.a)(ce.a.mark((function t(c){var a,n;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,oe("filterswishlist/new",e,"POST");case 3:return a=t.sent,t.next=6,a.json();case 6:(n=t.sent).ok&&(c(Ze(n.filter)),ie.a.fire("Guardado","Guardado con \xe9xito","success")),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(j)),v()},children:[Object(he.jsxs)("div",{className:"form-group",children:[Object(he.jsx)("label",{children:"Tipo de filtro"}),Object(he.jsx)(ve.a,{options:st,value:O.value,onChange:function(e){d({target:{name:"filterType",value:e.value}})}})]}),Object(he.jsxs)("div",{className:"form-group",children:[Object(he.jsx)("label",{children:"Marca"}),Object(he.jsx)("input",{type:"text",className:"form-control",placeholder:"Ingrese la marca...",name:"brand",autoComplete:"off",value:p,onChange:d})]}),Object(he.jsxs)("div",{className:"form-group",children:[Object(he.jsx)("label",{children:"C\xf3digo"}),Object(he.jsx)("input",{type:"text",className:"form-control",placeholder:"Ingrese la marca...",name:"code",autoComplete:"off",value:h,onChange:d})]}),Object(he.jsxs)("div",{className:"form-group",children:[Object(he.jsx)("label",{children:"Aplicaciones"}),x.map((function(e,t){return Object(he.jsxs)("div",{className:"row g-3 mb-1",children:[Object(he.jsx)("div",{className:"col-auto",children:Object(he.jsx)("input",{autoComplete:"off",name:"value",placeholder:"Agregar Aplicaci\xf3n...",className:"form-control",value:e.value,onChange:function(e){return function(e,t){var c=e.target,a=c.name,n=c.value,r=Object(l.a)(x);r[t][a]=n,d({target:{name:"application",value:r}})}(e,t)}})}),Object(he.jsx)("div",{className:"col-auto px-0",children:1!==x.length&&Object(he.jsx)("button",{className:"btn btn-danger form-control",onClick:function(e){return function(e,t){e.preventDefault();var c=Object(l.a)(x);c.splice(t,1),d({target:{name:"application",value:c}})}(e,t)},children:Object(he.jsx)("i",{className:"fas fa-minus"})})}),Object(he.jsx)("div",{className:"col-auto px-1",children:x.length-1===t&&Object(he.jsx)("button",{type:"button",className:"btn btn-primary form-control",onClick:g,children:Object(he.jsx)("i",{className:"fas fa-plus",children:" "})})})]},t)}))]}),Object(he.jsxs)("button",{type:"submit",className:"btn btn-outline-primary btn-block",children:[Object(he.jsx)("i",{className:"far fa-save"}),Object(he.jsx)("span",{children:"Guardar"})]})]})]})},lt=void 0,ut=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.filter})).filterList,c=Object(a.useState)(new Date),n=Object(de.a)(c,2),r=n[0],s=n[1],i=function(t){e(Le()),e(function(e){return{type:y,payload:e}}(t))},l=function(t){e(function(e){return function(){var t=Object(ae.a)(ce.a.mark((function t(c){var a,n;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,oe("filterswishlist/delete/".concat(e),{},"DELETE");case 3:return a=t.sent,t.next=6,a.json();case 6:(n=t.sent).ok?c(nt(e)):ie.a.fire("Error",n.msg,"error"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(t))};return Object(a.useEffect)((function(){e(rt(r))}),[]),Object(a.useEffect)((function(){e(et(r))}),[e,r]),Object(he.jsxs)("div",{children:[Object(he.jsx)(xe,{}),Object(he.jsxs)("div",{className:"filter-container",children:[Object(he.jsxs)("div",{className:"filter-search-box",children:[Object(he.jsx)(Fe.a,{onChange:function(t){s(t),e(rt(t)),e(et(t))},value:r}),Object(he.jsx)("button",{className:"btn btn-primary ml-2",onClick:function(){e(Le())},children:"Nuevo Filtro"})]}),Object(he.jsx)("div",{className:"filter-response-box",children:Object(he.jsxs)("table",{className:"table table-bordered",children:[Object(he.jsx)("thead",{children:Object(he.jsxs)("tr",{children:[Object(he.jsx)("th",{scope:"col",children:"Fecha"}),Object(he.jsx)("th",{scope:"col",children:"Tipo"}),Object(he.jsx)("th",{scope:"col",children:"Marca"}),Object(he.jsx)("th",{scope:"col",children:"C\xf3digo"}),Object(he.jsx)("th",{scope:"col",children:"Aplicaci\xf3n"})]})}),Object(he.jsx)("tbody",{children:t.map((function(e){var t=new Date(e.date);return Object(he.jsxs)("tr",{children:[Object(he.jsx)("td",{children:t.toLocaleDateString("es-ES")}),Object(he.jsxs)("td",{children:[" ",e.filterType," "]}),Object(he.jsxs)("td",{children:[" ",e.brand," "]}),Object(he.jsxs)("td",{children:[" ",e.code," "]}),Object(he.jsx)("td",{children:Object(he.jsx)("ul",{children:e.application.map((function(e){return Object(he.jsx)("li",{children:e.value},e._id)}))})}),Object(he.jsxs)("td",{children:[Object(he.jsx)("button",{className:"btn btn-warning mr-4",onClick:i.bind(lt,e),children:Object(he.jsx)("i",{className:"fas fa-pencil-alt"})}),Object(he.jsx)("button",{className:"btn btn-danger",onClick:l.bind(lt,e.id),children:Object(he.jsx)("i",{className:"far fa-trash-alt fa-lg"})})]})]},e.id)}))})]})}),Object(he.jsx)(it,{})]})]})},jt=(c(114),function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.data})).searchData,c=Pe(t),n=Object(de.a)(c,3),r=n[0],s=n[1],i=n[2],l=r.id,u=r.placa,j=r.marca,d=r.obs,b=r.aceite_motor,f=r.aceite_caja,O=r.filtros,p=r.liquido_radiador,m=Object(a.useState)(""),h=Object(de.a)(m,2),x=h[0],v=h[1],g=Object(a.useState)(""),y=Object(de.a)(g,2),N=y[0],k=y[1],C=Object(a.useState)(""),w=Object(de.a)(C,2),A=w[0],S=w[1],D=Object(a.useState)(!1),L=Object(de.a)(D,2),E=L[0],_=L[1],T=Object(a.useState)(!0),M=Object(de.a)(T,2),R=M[0],F=M[1],I=Object(a.useState)(!0),P=Object(de.a)(I,2),q=P[0],G=P[1];Object(a.useEffect)((function(){i(t)}),[t]);return Object(he.jsxs)("div",{children:[Object(he.jsx)(xe,{}),Object(he.jsx)("div",{className:"register-container",children:Object(he.jsxs)("div",{className:"register-box",children:[Object(he.jsx)("h3",{children:"Registro & Actualizaci\xf3n"}),Object(he.jsxs)("form",{onSubmit:function(t){return t.preventDefault(),6!==u.trim().length?(F(!1),ie.a.fire("Error","La placa debe contener 6 digitos","error")):(F(!0),0===j.trim().length?(G(!1),ie.a.fire("Error","el campo marca no debe estar vacio","error")):(G(!0),void e(""===l?(c=r,function(){var e=Object(ae.a)(ce.a.mark((function e(t){var a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oe("data/new",c,"POST");case 3:return a=e.sent,e.next=6,a.json();case 6:e.sent.ok&&(t(pe(c)),ie.a.fire("Guardado","Guardado con \xe9xito","success")),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()):function(e){return function(){var t=Object(ae.a)(ce.a.mark((function t(c){var a,n;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,oe("data/".concat(e.id),e,"PUT");case 3:return a=t.sent,t.next=6,a.json();case 6:(n=t.sent).ok?(c(me(e)),ie.a.fire("Actualizado","Actualizado con \xe9xito","success")):ie.a.fire("Error",n.msg,"error"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(r))));var c},children:[Object(he.jsxs)("div",{className:"form-group",children:[Object(he.jsx)("input",{type:"text",className:" text ".concat(!R&&"is-invalid"),placeholder:"Ingrese la placa...",name:"placa",autoComplete:"off",maxLength:"6",value:u,onChange:s,disabled:E&&"disabled"}),Object(he.jsx)("button",{className:"btn btn-primary ml-2",onClick:function(t){t.preventDefault(),_(!0),e(be(u))},children:"Buscar"}),Object(he.jsx)("button",{className:"btn btn-primary ml-2",onClick:function(t){t.preventDefault(),_(!1),e(Oe()),v(""),k(""),S("")},children:"Reset"})]}),Object(he.jsx)("div",{className:"form-group",children:Object(he.jsx)("input",{type:"text",className:"form-control ".concat(!q&&"is-invalid"),placeholder:"marca modelo",name:"marca",autoComplete:"off",value:j,onChange:s,disabled:!E&&"disabled"})}),Object(he.jsxs)("div",{className:"row",children:[Object(he.jsx)("div",{className:"col",children:Object(he.jsx)("label",{children:"Aceite de motor:"})}),Object(he.jsx)("div",{className:"col",children:Object(he.jsx)("div",{className:"form-group",children:Object(he.jsx)("input",{type:"text",className:"form-control",placeholder:"Aceite motor",name:"aceite_motor.aceite",autoComplete:"off",value:b.aceite,onChange:s,disabled:!E&&"disabled"})})}),Object(he.jsx)("div",{className:"col",children:Object(he.jsx)("div",{className:"form-group",children:Object(he.jsx)(Fe.a,{onChange:function(e){v(e),s({target:{name:"aceite_motor.fecha",value:e}})},value:x,className:"form-control",disabled:!E})})}),Object(he.jsx)("div",{className:"col",children:Object(he.jsx)("div",{className:"form-group",children:Object(he.jsx)("input",{type:"text",className:"form-control",placeholder:"Kilometraje motor",name:"aceite_motor.km",autoComplete:"off",value:b.km,onChange:s,disabled:!E&&"disabled"})})})]}),Object(he.jsxs)("div",{className:"row",children:[Object(he.jsx)("div",{className:"col",children:Object(he.jsx)("label",{children:"Aceite de caja:"})}),Object(he.jsx)("div",{className:"col",children:Object(he.jsx)("div",{className:"form-group",children:Object(he.jsx)("input",{type:"text",className:"form-control",placeholder:"Aceite caja",name:"aceite_caja.aceite",autoComplete:"off",value:f.aceite,onChange:s,disabled:!E&&"disabled"})})}),Object(he.jsx)("div",{className:"col",children:Object(he.jsx)("div",{className:"form-group",children:Object(he.jsx)(Fe.a,{onChange:function(e){k(e),s({target:{name:"aceite_caja.fecha",value:e}})},value:N,className:"form-control",disabled:!E})})}),Object(he.jsx)("div",{className:"col",children:Object(he.jsx)("div",{className:"form-group",children:Object(he.jsx)("input",{type:"text",className:"form-control",placeholder:"Kilometraje caja",name:"aceite_caja.km",autoComplete:"off",value:f.km,onChange:s,disabled:!E&&"disabled"})})})]}),Object(he.jsxs)("div",{className:"row",children:[Object(he.jsx)("div",{className:"col",children:Object(he.jsx)("label",{children:"Filtros:"})}),Object(he.jsx)("div",{className:"col",children:Object(he.jsx)("div",{className:"form-group",children:Object(he.jsx)("input",{type:"text",className:"form-control",placeholder:"Filtro Aceite",name:"filtros.aceite",autoComplete:"off",value:O.aceite,onChange:s,disabled:!E&&"disabled"})})}),Object(he.jsx)("div",{className:"col",children:Object(he.jsx)("div",{className:"form-group",children:Object(he.jsx)("input",{type:"text",className:"form-control",placeholder:"Filtro Aire",name:"filtros.aire",autoComplete:"off",value:O.aire,onChange:s,disabled:!E&&"disabled"})})}),Object(he.jsx)("div",{className:"col",children:Object(he.jsx)("div",{className:"form-group",children:Object(he.jsx)("input",{type:"text",className:"form-control",placeholder:"Filtro Combustible",name:"filtros.combustible",autoComplete:"off",value:O.combustible,onChange:s,disabled:!E&&"disabled"})})}),Object(he.jsx)("div",{className:"col",children:Object(he.jsx)("div",{className:"form-group",children:Object(he.jsx)("input",{type:"text",className:"form-control",placeholder:"Filtro cabina",name:"filtros.cabina",autoComplete:"off",value:O.cabina,onChange:s,disabled:!E&&"disabled"})})})]}),Object(he.jsxs)("div",{className:"row",children:[Object(he.jsx)("div",{className:"col",children:Object(he.jsx)("label",{children:"Liquido de radiador:"})}),Object(he.jsx)("div",{className:"col",children:Object(he.jsx)("div",{className:"form-group",children:Object(he.jsx)("input",{type:"text",className:"form-control",placeholder:"Liquido de radiador",name:"liquido_radiador.liquido",autoComplete:"off",value:p.liquido,onChange:s,disabled:!E&&"disabled"})})}),Object(he.jsx)("div",{className:"col",children:Object(he.jsx)("div",{className:"form-group",children:Object(he.jsx)(Fe.a,{onChange:function(e){S(e),s({target:{name:"liquido_radiador.fecha",value:e}})},value:A,className:"form-control",disabled:!E})})}),Object(he.jsx)("div",{className:"col",children:Object(he.jsx)("div",{className:"form-group",children:Object(he.jsx)("input",{type:"text",className:"form-control",placeholder:"Kilometraje radiador",name:"liquido_radiador.km",autoComplete:"off",value:p.km,onChange:s,disabled:!E&&"disabled"})})})]}),Object(he.jsx)("input",{type:"text",className:"form-control",placeholder:"Observaciones",name:"obs",autoComplete:"off",value:d,onChange:s,disabled:!E&&"disabled"}),Object(he.jsx)("div",{className:"form-group",children:Object(he.jsx)("input",{type:"submit",className:"btnSubmit",value:"Guardar",disabled:!E&&"disabled"})})]})]})})]})}),dt=c(34),bt=["isAuthenticated","component"],ft=function(e){var t=e.isAuthenticated,c=e.component,a=Object(dt.a)(e,bt);return Object(he.jsx)(ee.b,Object(u.a)(Object(u.a)({},a),{},{component:function(e){return t?Object(he.jsx)(c,Object(u.a)({},e)):Object(he.jsx)(ee.a,{to:"/"})}}))},Ot=["isAuthenticated","component"],pt=function(e){var t=e.isAuthenticated,c=e.component,a=Object(dt.a)(e,Ot);return Object(he.jsx)(ee.b,Object(u.a)(Object(u.a)({},a),{},{component:function(e){return t?Object(he.jsx)(ee.a,{to:"/register"}):Object(he.jsx)(c,Object(u.a)({},e))}}))},mt=function(){var e=Object(o.c)((function(e){return e.auth})).nick,t=Object(o.b)();return Object(a.useEffect)((function(){t(function(){var e=Object(ae.a)(ce.a.mark((function e(t){var c,a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe("auth/renew",{},"POST");case 2:return c=e.sent,e.next=5,c.json();case 5:(a=e.sent).ok?(localStorage.setItem("token",a.token),localStorage.setItem("token-init-date",(new Date).getTime()),t(ue({nick:a.nick}))):t(le());case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[t]),Object(he.jsx)($.a,{children:Object(he.jsx)("div",{children:Object(he.jsxs)(ee.d,{children:[Object(he.jsx)(pt,{exact:!0,path:"/",component:Ye,isAuthenticated:!!e}),Object(he.jsx)(pt,{exact:!0,path:"/login",component:Qe,isAuthenticated:!!e}),Object(he.jsx)(ft,{exact:!0,path:"/register",component:jt,isAuthenticated:!!e}),Object(he.jsx)(ft,{exact:!0,path:"/filterwishlist",component:ut,isAuthenticated:!!e}),Object(he.jsx)(ft,{exact:!0,path:"/account",component:He,isAuthenticated:!!e}),Object(he.jsx)(ee.a,{to:"/"})]})})})},ht=function(){return Object(he.jsx)(o.a,{store:Z,children:Object(he.jsx)(mt,{})})};r.a.render(Object(he.jsx)(ht,{}),document.getElementById("root"))},73:function(e,t,c){}},[[115,1,2]]]);
//# sourceMappingURL=main.ec1287ae.chunk.js.map